{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/pexels.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchValue","handleSearchSubmit","e","preventDefault","trim","toast","error","props","getSearchValue","setState","handleSearchChange","target","name","value","className","style","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","placeholder","Component","PixabayFetch","base_url","api_key","_searchQuery","_page","perPage","a","axios","defaults","baseURL","url","page","get","result","data","hits","message","ImageGalleryItem","gallery","onClickModal","map","el","src","webformatURL","alt","user","onClick","id","ImageGalleryItemImage","Modal","handleKeyDown","closeModal","code","onClickOverlay","currentTarget","window","addEventListener","removeEventListener","modalSrc","Overlay","largeImageURL","Button","newPixabayFetch","ImageGallery","searchResult","loader","status","handleClick","searchPhotos","then","prev","scrollLandMore","catch","err","handlerModal","idComp","find","photo","prevState","prevProps","resetPage","searchQuery","color","height","width","timeout","length","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b27debf0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1NwpP\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1L7bc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__dHzFc\",\"Modal\":\"Modal_Modal__2TmRV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__iUuoQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3lenQ\"};","import { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport style from \"../Searchbar/Searchbar.module.css\";\r\n\r\nexport class Searchbar extends Component {\r\n    state = {\r\n        searchValue: '',\r\n    };\r\n\r\n    handleSearchSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.searchValue.trim() === \"\") {\r\n            return toast.error(\"Enter the value of your request!\");\r\n        }\r\n        this.props.getSearchValue(this.state.searchValue);\r\n        this.setState({searchValue: ''});\r\n\r\n    }\r\n    \r\n    handleSearchChange = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({[name]: value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={style.Searchbar}>\r\n                <form onSubmit={this.handleSearchSubmit} className={style.SearchForm}>\r\n                    <button type=\"submit\" className={style.SearchFormButton}>\r\n                    <span className={style.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                    className={style.SearchFormInput}\r\n                    type=\"text\"\r\n                    name=\"searchValue\"\r\n                    value={this.state.searchValue}\r\n                    onChange={this.handleSearchChange}\r\n                    placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n        \r\n    }\r\n}","import axios from 'axios';\n\nexport class PixabayFetch {\n  constructor(base_url, api_key) {\n    this.base_url = base_url;\n    this.api_key = api_key;\n    this._searchQuery = '';\n    this._page = 1;\n    this.perPage = 12;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  resetPage() {\n    return (this._page = 1, this._searchQuery = '');\n  }\n\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  \n  async searchPhotos() {\n    axios.defaults.baseURL = this.base_url;\n\n    let url = `?q=${this._searchQuery}&page=${this.page}&key=${this.api_key}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`;\n    try {\n      const result = await axios.get(url);\n      const data = result.data.hits;\n      return data;\n    } catch (err) {\n      return err.message;\n     }\n\n  }\n}\n\n","import style from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ gallery, onClickModal }) {\r\n    return gallery.map((el) => (\r\n        <li key = { el.id } className={style.ImageGalleryItem} >\r\n            <img\r\n                src={el.webformatURL}\r\n                alt={el.user}\r\n                onClick={() => onClickModal(el.id)}\r\n                className={style.ImageGalleryItemImage} />\r\n        </li >\r\n    ));\r\n}\r\n\r\nexport default ImageGalleryItem;","import { Component } from \"react\";\r\nimport style from '../Modal/Modal.module.css'\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentDidUpdate() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    const { closeModal } = this.props;\r\n\r\n    if (e.code === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  onClickOverlay = (e) => {\r\n    const { closeModal } = this.props;\r\n    if (e.currentTarget === e.target) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalSrc } = this.props;\r\n    return (\r\n      <div className={style.Overlay} onClick={this.onClickOverlay}>\r\n        <div className={style.Modal}>\r\n          <img src={modalSrc.largeImageURL} alt={modalSrc.user} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import style from \"../Button/Button.module.css\";\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button className={style.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;","import { Component } from \"react\";\r\nimport { PixabayFetch } from '../../services/pexels';\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n// import ApiError from \"../ApiError\";\r\n// import Idle from \"../Idle\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport style from \"../ImageGallery/ImageGallery.module.css\";\r\n\r\n\r\nconst base_url = `https://pixabay.com/api/`;\r\nconst api_key = `23200970-d5201fb8f8a34679c1c031ab0`;\r\nconst newPixabayFetch = new PixabayFetch(base_url, api_key);\r\n\r\nexport class ImageGallery extends Component {\r\n    state = {\r\n        searchResult: [],\r\n        gallery: [],\r\n        error: null,\r\n        loader: false,\r\n        page: 1,\r\n        modalSrc: null,\r\n        status: 'init',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        \r\n        if (prevProps.searchValue !== this.props.searchValue) {\r\n            this.setState({ loader: true })\r\n            newPixabayFetch.resetPage();\r\n            newPixabayFetch.searchQuery = this.props.searchValue;\r\n\r\n            newPixabayFetch.searchPhotos()\r\n            // .finally(() => this.setState({ loader: false }))\r\n            .then(gallery => {\r\n                this.setState({ gallery });\r\n            })\r\n                .catch(() => {\r\n                    this.setState({ status: 'error' });\r\n                })\r\n        }\r\n\r\n        /* if (this.state.status === \"pending\") {\r\n            return <Loader\r\n                        type=\"Puff\"\r\n                        color=\"#00BFFF\"\r\n                        height={100}\r\n                        width={100}\r\n                        timeout={3000} //3 secs\r\n                     />;\r\n        } */\r\n    }\r\n\r\n    handleClick = () => {\r\n        newPixabayFetch.page = 1;\r\n        newPixabayFetch.searchPhotos()\r\n            .then(gallery => {\r\n                this.setState((prev) => ({ gallery: [...prev.gallery, ...gallery] }));\r\n                this.scrollLandMore();\r\n            })\r\n            .catch(err => {\r\n                this.setState({ status: 'error' });\r\n            });\r\n    }\r\n\r\n    handlerModal = (idComp) => {\r\n        this.setState({\r\n            modalSrc: this.state.gallery.find((photo) => photo.id === idComp),\r\n        });\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.setState({ modalSrc: null });\r\n    };\r\n\r\n    scrollLandMore = () => {\r\n        this.setState((prevState) => ({\r\n            page: prevState.page + 1,\r\n        }));\r\n    };\r\n\r\n    render() {\r\n        const { gallery, modalSrc, loader } = this.state;\r\n        return (\r\n            <>\r\n                {loader && <Loader\r\n                        type=\"Puff\"\r\n                        color=\"#00BFFF\"\r\n                        height={100}\r\n                        width={100}\r\n                        timeout={3000} //3 secs\r\n                     />}\r\n                <ul className={style.ImageGallery}>\r\n                    <ImageGalleryItem\r\n                        gallery={gallery}\r\n                        onClickModal={this.handlerModal}>\r\n                    </ImageGalleryItem>\r\n                </ul>\r\n                {gallery.length > 0 && (\r\n                    <Button onClick={this.handleClick}></Button>\r\n                )}\r\n                {modalSrc && (\r\n                    <Modal modalSrc={modalSrc} closeModal={this.closeModal}></Modal>\r\n                )}\r\n            </>\r\n        )\r\n    \r\n    }\r\n}","import './App.css';\r\nimport { Component } from 'react';\r\nimport {Searchbar} from './components/Searchbar/Searchbar';\r\nimport {ImageGallery} from './components/ImageGallery/ImageGallery';\r\n// import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchValue: '',\r\n  }\r\n\r\n  getSearchValue = searchValue => this.setState({ searchValue });\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar getSearchValue={this.getSearchValue} />\r\n        <ImageGallery searchValue={this.state.searchValue} />\r\n      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n  /*    <Loader\r\n     type=\"Puff\"\r\n     color=\"#00BFFF\"\r\n     height={100}\r\n     width={100}\r\n     timeout={3000}/> */","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__348XY\",\"SearchForm\":\"Searchbar_SearchForm__nhDvL\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3asYO\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1DGJ0\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3H82y\"};"],"sourceRoot":""}